{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/CS50/web50/lecture_3/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Harvard's Web Programming with Python and Javascript lecture 3 정리</p>\n</blockquote>\n<h3>Databases</h3>\n<ul>\n<li>used to make it easier for web applications to store, use, and manipulate data</li>\n</ul>\n<h3>SQL (Structured Query Language)</h3>\n<ul>\n<li>language designed to interact w/ <strong>relational databases</strong> </li>\n<li>\n<p><strong>used PostgreSQL</strong></p>\n<ul>\n<li>need to start Postgres server to use</li>\n<li>can be hosted locally on one's computer or hosted online (ex. heroku)</li>\n<li>command lines: <code>psql {database}</code>, <code>psql {database url}</code>, <code>\\d</code> (print database), <code>\\df</code> (print tables)</li>\n</ul>\n</li>\n</ul>\n<h4>Data Types</h4>\n<ul>\n<li><code>INTEGER</code>, <code>DECIMAL</code>, <code>SERIAL</code> (= automatically incrementing integer), <code>VARCHAR</code>, <code>TIMESTAMP</code>, <code>BOOLEAN</code>, <code>ENUM</code></li>\n<li>constraints: <code>NOT NULL</code>, <code>UNIQUE</code>, <code>PRIMARY KEY</code>, <code>DEFAULT</code>, <code>CHECK</code></li>\n</ul>\n<h4>Basic Operations</h4>\n<ul>\n<li>\n<p><strong>create table</strong></p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">CREATE</span><span class=\"mtk1\"> </span><span class=\"mtk9\">TABLE</span><span class=\"mtk1\"> flights (</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">id </span><span class=\"mtk9\">SERIAL</span><span class=\"mtk1\"> </span><span class=\"mtk9\">PRIMARY</span><span class=\"mtk1\"> </span><span class=\"mtk9\">KEY</span><span class=\"mtk1\">,</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">origin </span><span class=\"mtk9\">VARCHAR</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NULL</span><span class=\"mtk1\">,</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">destination </span><span class=\"mtk9\">VARCHAR</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NULL</span><span class=\"mtk1\">,</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">duration </span><span class=\"mtk9\">INTEGER</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NULL</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">);</span></span></code></pre>\n</li>\n<li>\n<p><strong>insert data</strong></p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">INSERT</span><span class=\"mtk1\"> </span><span class=\"mtk9\">INTO</span><span class=\"mtk1\"> flights (origin, destination, duration)</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk9\">VALUES</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">&#39;SEOUL&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">&#39;LONDON&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">415</span><span class=\"mtk1\">);</span></span></code></pre>\n</li>\n<li>\n<p><strong>update data</strong></p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">UPDATE</span><span class=\"mtk1\"> flights</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk9\">SET</span><span class=\"mtk1\"> duration</span><span class=\"mtk5\">=</span><span class=\"mtk6\">430</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> origin</span><span class=\"mtk5\">=</span><span class=\"mtk12\">&#39;SEOUL&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk9\">AND</span><span class=\"mtk1\"> destination</span><span class=\"mtk5\">=</span><span class=\"mtk12\">&#39;LONDON&#39;</span><span class=\"mtk1\">;</span></span></code></pre>\n</li>\n<li>\n<p><strong>read data</strong></p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk5\">*</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> origin, destination </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> id</span><span class=\"mtk5\">=</span><span class=\"mtk6\">3</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk5\">*</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> origin</span><span class=\"mtk5\">=</span><span class=\"mtk12\">&#39;SEOUL&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk9\">or</span><span class=\"mtk1\"> duration</span><span class=\"mtk5\">&gt;</span><span class=\"mtk6\">500</span><span class=\"mtk1\">;</span></span></code></pre>\n<ul>\n<li>\n<p><strong>column selector functions</strong>:</p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">AVG</span><span class=\"mtk1\">(duraction) </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> origin</span><span class=\"mtk5\">=</span><span class=\"mtk12\">&#39;NEW YORK&#39;</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk5\">*</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> origin </span><span class=\"mtk9\">LIKE</span><span class=\"mtk1\"> </span><span class=\"mtk12\">&#39;%a%&#39;</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk5\">*</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">LIMIT</span><span class=\"mtk1\"> </span><span class=\"mtk6\">2</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk5\">*</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">ORDER BY</span><span class=\"mtk1\"> duration </span><span class=\"mtk9\">ASC</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> origin, </span><span class=\"mtk7\">COUNT</span><span class=\"mtk1\">(</span><span class=\"mtk5\">*</span><span class=\"mtk1\">) </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">GROUP BY</span><span class=\"mtk1\"> origin </span><span class=\"mtk9\">HAVING</span><span class=\"mtk1\"> </span><span class=\"mtk7\">COUNT</span><span class=\"mtk1\">(</span><span class=\"mtk5\">*</span><span class=\"mtk1\">)</span><span class=\"mtk5\">&gt;</span><span class=\"mtk6\">1</span><span class=\"mtk1\">;</span></span></code></pre>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">MAX</span><span class=\"mtk1\">(duration) </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights;</span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>delete data</strong></p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">DELETE</span><span class=\"mtk1\"> </span><span class=\"mtk9\">FROM</span><span class=\"mtk1\"> flights </span><span class=\"mtk9\">WHERE</span><span class=\"mtk1\"> destination</span><span class=\"mtk5\">=</span><span class=\"mtk12\">&#39;TOKYO&#39;</span></span></code></pre>\n</li>\n</ul>\n<h4>Relating Tables &#x26; Compount Queries</h4>\n<ul>\n<li>tables inside a database can be related in some way (bcuz SQL = relational database)</li>\n<li>\n<p><strong>Foreign Keys</strong>: reference an id column of table B from a column in table A</p>\n<ul>\n<li>\n<p>in table A, the id value (corresponding to table B) is called foreign keys</p>\n<pre class=\"andromeda vscode-highlight\" data-language=\"sql\"><code class=\"vscode-highlight-code\"><span class=\"vscode-highlight-line\"><span class=\"mtk9\">CREATE</span><span class=\"mtk1\"> </span><span class=\"mtk9\">TABLE</span><span class=\"mtk1\"> passengers (</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">id </span><span class=\"mtk9\">SERIAL</span><span class=\"mtk1\"> </span><span class=\"mtk9\">PRIMARY</span><span class=\"mtk1\"> </span><span class=\"mtk9\">KEY</span><span class=\"mtk1\">,</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk9\">name</span><span class=\"mtk1\"> </span><span class=\"mtk9\">VARCHAR</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NOT</span><span class=\"mtk1\"> </span><span class=\"mtk9\">NULL</span><span class=\"mtk1\">,</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">flight_id </span><span class=\"mtk9\">INTEGER</span><span class=\"mtk1\"> </span><span class=\"mtk9\">REFERENCES</span><span class=\"mtk1\"> flights</span></span>\n<span class=\"vscode-highlight-line\"><span class=\"mtk1\">);</span></span></code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h3>Security Concerns</h3>\n<h3>Python &#x26; SQL</h3>\n<h3>Incorporating SQL into Web Applictions (using Flask)</h3>\n<style class=\"vscode-highlight-styles\">\n  :root {\n  --vscode-highlight-padding-v: 1rem;\n  --vscode-highlight-padding-h: 1.5rem;\n  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);\n  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);\n  --vscode-highlight-border-radius: 8px;\n\n  --vscode-highlight-line-highlighted-background-color: transparent;\n  --vscode-highlight-line-highlighted-border-width: 4px;\n  --vscode-highlight-line-highlighted-border-color: transparent;\n}\n\n.vscode-highlight {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-top: 1rem;\n  padding-top: var(--vscode-highlight-padding-top);\n  padding-bottom: 1rem;\n  padding-bottom: var(--vscode-highlight-padding-bottom);\n  border-radius: 8px;\n  border-radius: var(--vscode-highlight-border-radius);\n  font-feature-settings: normal;\n}\n\n.vscode-highlight-code {\n  display: inline-block;\n  min-width: 100%;\n}\n\n.vscode-highlight-line {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 100%;\n  padding-left: 1.5rem;\n  padding-left: var(--vscode-highlight-padding-left);\n  padding-right: 1.5rem;\n  padding-right: var(--vscode-highlight-padding-right);\n}\n\n.vscode-highlight-line-highlighted {\n  background-color: var(--vscode-highlight-line-highlighted-background-color);\n  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);\n}\n\n  .andromeda {\nbackground-color: #23262E;\ncolor: #D5CED9;\n}\n\n.andromeda .mtk1 { color: #D5CED9; }\n.andromeda .mtk2 { color: #23262E; }\n.andromeda .mtk3 { color: #00E8C6; }\n.andromeda .mtk4 { color: #5F6167; }\n.andromeda .mtk5 { color: #EE5D43; }\n.andromeda .mtk6 { color: #F39C12; }\n.andromeda .mtk7 { color: #FFE66D; }\n.andromeda .mtk8 { color: #F92672; }\n.andromeda .mtk9 { color: #C74DED; }\n.andromeda .mtk10 { color: #7CB7FF; }\n.andromeda .mtk11 { color: #FF00AA; }\n.andromeda .mtk12 { color: #96E072; }\n.andromeda .mtki { font-style: italic; }\n.andromeda .mtkb { font-weight: bold; }\n.andromeda .mtku { text-decoration: underline; text-underline-position: under; }\n</style>","frontmatter":{"title":"Web50 lecture 3 - SQL","date":"2018-07-23","tags":["CS50","Web50","Python","SQL"]}}},"pageContext":{"slug":"/CS50/web50/lecture_3/"}}}