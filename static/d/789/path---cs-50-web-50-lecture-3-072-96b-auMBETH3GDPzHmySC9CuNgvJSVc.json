{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Harvard's Web Programming with Python and Javascript lecture 3 정리</p>\n</blockquote>\n<h3>Databases</h3>\n<ul>\n<li>used to make it easier for web applications to store, use, and manipulate data</li>\n</ul>\n<h3>SQL (Structured Query Language)</h3>\n<ul>\n<li>language designed to interact w/ <strong>relational databases</strong> </li>\n<li>\n<p><strong>used PostgreSQL</strong></p>\n<ul>\n<li>need to start Postgres server to use</li>\n<li>can be hosted locally on one's computer or hosted online (ex. heroku)</li>\n<li>command lines: <code class=\"language-text\">psql {database}</code>, <code class=\"language-text\">psql {database url}</code>, <code class=\"language-text\">\\d</code> (print database), <code class=\"language-text\">\\df</code> (print tables)</li>\n</ul>\n</li>\n</ul>\n<h4>Data Types</h4>\n<ul>\n<li><code class=\"language-text\">INTEGER</code>, <code class=\"language-text\">DECIMAL</code>, <code class=\"language-text\">SERIAL</code> (= automatically incrementing integer), <code class=\"language-text\">VARCHAR</code>, <code class=\"language-text\">TIMESTAMP</code>, <code class=\"language-text\">BOOLEAN</code>, <code class=\"language-text\">ENUM</code></li>\n<li>constraints: <code class=\"language-text\">NOT NULL</code>, <code class=\"language-text\">UNIQUE</code>, <code class=\"language-text\">PRIMARY KEY</code>, <code class=\"language-text\">DEFAULT</code>, <code class=\"language-text\">CHECK</code></li>\n</ul>\n<h4>Basic Operations</h4>\n<ul>\n<li>\n<p><strong>create table</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> flights <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">SERIAL</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\norigin <span class=\"token keyword\">VARCHAR</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\ndestination <span class=\"token keyword\">VARCHAR</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\nduration <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>insert data</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> flights <span class=\"token punctuation\">(</span>origin<span class=\"token punctuation\">,</span> destination<span class=\"token punctuation\">,</span> duration<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'SEOUL'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'LONDON'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">415</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>update data</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> flights\n<span class=\"token keyword\">SET</span> duration<span class=\"token operator\">=</span><span class=\"token number\">430</span>\n<span class=\"token keyword\">WHERE</span> origin<span class=\"token operator\">=</span><span class=\"token string\">'SEOUL'</span> <span class=\"token operator\">AND</span> destination<span class=\"token operator\">=</span><span class=\"token string\">'LONDON'</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>read data</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> flights<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> origin<span class=\"token punctuation\">,</span> destination <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">WHERE</span> id<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">WHERE</span> origin<span class=\"token operator\">=</span><span class=\"token string\">'SEOUL'</span> <span class=\"token operator\">or</span> duration<span class=\"token operator\">></span><span class=\"token number\">500</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p><strong>column selector functions</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>duraction<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">WHERE</span> origin<span class=\"token operator\">=</span><span class=\"token string\">'NEW YORK'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">WHERE</span> origin <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%a%'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> duration <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> origin<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> origin <span class=\"token keyword\">HAVING</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> flights<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>delete data</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> flights <span class=\"token keyword\">WHERE</span> destination<span class=\"token operator\">=</span><span class=\"token string\">'TOKYO'</span></code></pre></div>\n</li>\n</ul>\n<h4>Relating Tables &#x26; Compount Queries</h4>\n<ul>\n<li>tables inside a database can be related in some way (bcuz SQL = relational database)</li>\n<li>\n<p><strong>Foreign Keys</strong>: reference an id column of table B from a column in table A</p>\n<ul>\n<li>\n<p>in table A, the id value (corresponding to table B) is called foreign keys</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> passengers <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">SERIAL</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">VARCHAR</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\nflight_id <span class=\"token keyword\">INTEGER</span> <span class=\"token keyword\">REFERENCES</span> flights\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3>Security Concerns</h3>\n<h3>Python &#x26; SQL</h3>\n<h3>Incorporating SQL into Web Applictions (using Flask)</h3>","frontmatter":{"title":"Web50 lecture 3 - SQL","date":"2018-07-23","tags":["CS50","Web50","Python","SQL"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/CS50/web50/lecture_3/"}}